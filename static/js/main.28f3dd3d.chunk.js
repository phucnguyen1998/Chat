(this.webpackJsonpchatbox=this.webpackJsonpchatbox||[]).push([[0],{24:function(e,t,a){},28:function(e,t,a){e.exports=a(49)},43:function(e,t,a){},44:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(25),l=a.n(r),i=a(8),m=a(10),o=a(15),h=a.n(o);h.a.initializeApp({apiKey:"AIzaSyC-AfzxS4Gf5fPulSY-HbwhC4b5LlPIi6w",authDomain:"notereact-dfc04.firebaseapp.com",databaseURL:"https://notereact-dfc04.firebaseio.com",projectId:"notereact-dfc04",storageBucket:"notereact-dfc04.appspot.com",messagingSenderId:"790967777519",appId:"1:790967777519:web:08bd8a668c627d28f6031a",measurementId:"G-CFN9RT6H7F"});new h.a.auth.GoogleAuthProvider;const c=h.a.auth();var u=h.a;a(43),a(44);class p extends s.a.Component{constructor(e){super(e),this.state={chats:[]}}componentDidMount(){u.database().ref("general").on("value",e=>{const t=e.val();let a=[];for(let s in t)""!==t[s].message&&a.push({id:s,message:t[s].message,user:t[s].user,date:t[s].timestamp});const n=a.reverse();this.setState({chats:n})})}render(){return s.a.createElement("div",{className:"chatbox"},s.a.createElement("ul",{className:"chat-list"},this.state.chats.map(e=>{const t=new Date(e.date);return s.a.createElement("li",{key:e.id},s.a.createElement("em",null,t.getDate()+"/"+(t.getMonth()+1)),s.a.createElement("strong",null,e.user,":"),e.message)})))}}var d=p;class g extends s.a.Component{constructor(e){super(e),this.handleChange=e=>{this.setState({[e.target.name]:e.target.value})},this.handleSubmit=e=>{if(e.preventDefault(),""!==this.state.message){const e=u.database().ref("general"),t={message:this.state.message,user:this.props.user.displayName,timestamp:(new Date).getTime()};e.push(t),this.setState({message:""})}},this.state={message:""}}render(){return s.a.createElement("div",{className:"home--container"},s.a.createElement("h1",null,"H\xe3y nh\u1eafn g\xec \u0111\xf3!"),this.props.user&&s.a.createElement("div",{className:"allow-chat"},s.a.createElement("form",{className:"send-chat",onSubmit:this.handleSubmit},s.a.createElement("input",{type:"text",name:"message",id:"message",value:this.state.message,onChange:this.handleChange,placeholder:"Nh\u1eadp tin nh\u1eafn..."})),s.a.createElement(d,null)),!this.props.user&&s.a.createElement("div",{className:"disallow-chat"},s.a.createElement("p",null,s.a.createElement(i.b,{to:"/login"},"\u0110\u0103ng nh\u1eadp")," ho\u1eb7c ",s.a.createElement(i.b,{to:"/register"},"\u0110\u0103ng k\xfd")," \u0110\u1ec3 b\u1eaft \u0111\u1ea7u chat!")))}}var E=g;a(24);class b extends s.a.Component{constructor(e){super(e),this.handleChange=e=>{this.setState({[e.target.name]:e.target.value})},this.handleSubmit=e=>{e.preventDefault();const t=this.state,a=t.email,n=t.password;u.auth().signInWithEmailAndPassword(a,n).then(e=>{this.props.history.push("/")}).catch(e=>{this.setState({error:e})})},this.state={email:"",password:"",error:null},this.handleChange=this.handleChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}render(){const e=this.state,t=e.email,a=e.password,n=e.error;return s.a.createElement("div",{className:"auth--container"},s.a.createElement("h1",null,"Login"),s.a.createElement("p",{className:"intro-text"},"\u0110\u0103ng nh\u1eadp \u0111\u1ec3 truy c\u1eadp t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n"),n&&s.a.createElement("p",{className:"error-message"},n.message),s.a.createElement("form",{className:"login-form",onSubmit:this.handleSubmit},s.a.createElement("label",{htmlFor:"email"},"Email"),s.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"Email",value:t,onChange:this.handleChange}),s.a.createElement("label",{htmlFor:"password"},"Password"),s.a.createElement("input",{type:"password",name:"password",id:"password",placeholer:"password",value:a,onChange:this.handleChange}),s.a.createElement("button",{className:"general-submit"},"Log in"),s.a.createElement("p",null,"B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n ",s.a.createElement(i.b,{className:"login-btn",to:"/register"},"\u0110\u0103ng k\xfd"))))}}var v=b;class w extends s.a.Component{constructor(e){super(e),this.handleChange=e=>{this.setState({[e.target.name]:e.target.value})},this.handleSubmit=e=>{e.preventDefault();const t=this.state,a=t.email,n=t.username,s=t.password;u.auth().createUserWithEmailAndPassword(a,s).then(()=>{u.auth().currentUser.updateProfile({displayName:n}).then(()=>{this.props.history.push("/")}).catch(e=>{this.setState({error:e})})}).catch(e=>{this.setState({error:e})})},this.state={username:"",email:"",password:"",error:null}}render(){const e=this.state,t=e.email,a=e.username,n=e.password,r=e.error;return s.a.createElement("div",{className:"auth--container"},s.a.createElement("h1",null,"Register your account"),r&&s.a.createElement("p",{className:"error-message"},r.message),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",{htmlFor:"username"},"Username"),s.a.createElement("input",{type:"text",name:"username",id:"username",value:a,onChange:this.handleChange}),s.a.createElement("label",{htmlFor:"email"},"Email"),s.a.createElement("input",{type:"text",name:"email",id:"email",value:t,onChange:this.handleChange}),s.a.createElement("label",{htmlFor:"password"},"Nh\u1eadp m\u1eadt kh\u1ea9u"),s.a.createElement("input",{type:"password",name:"password",id:"password",value:n,onChange:this.handleChange}),s.a.createElement("button",{className:"general-submit",children:"Get Started"}),s.a.createElement("p",null,"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n? ",s.a.createElement(i.b,{className:"login-btn",to:"/login"},"\u0110\u0103ng nh\u1eadp"))))}}var f=w;class C extends s.a.Component{constructor(e){super(e),this.logOutUser=()=>{u.auth().signOut().then(window.location="/Chat")},this.state={user:null},this.logOutUser=this.logOutUser.bind(this)}componentDidMount(){c.onAuthStateChanged(e=>{e&&this.setState({user:e})})}render(){return s.a.createElement(i.a,null,s.a.createElement("div",{className:"app"},s.a.createElement("nav",{className:"main-nav"},!this.state.user&&s.a.createElement("div",null,s.a.createElement(i.b,{to:"/login"},"\u0110\u0103ng Nh\u1eadp"),s.a.createElement(i.b,{to:"/register"},"\u0110\u0103ng k\xfd")),this.state.user&&s.a.createElement("a",{href:"#!",onClick:this.logOutUser},"\u0110\u0103ng xu\u1ea5t")),s.a.createElement(m.c,null,s.a.createElement(m.a,{path:"/Chat",exact:!0,render:()=>s.a.createElement(E,{user:this.state.user})}),s.a.createElement(m.a,{path:"/login",exact:!0,component:v}),s.a.createElement(m.a,{path:"/register",exact:!0,component:f}),s.a.createElement(m.a,{component:S}))))}}const S=({location:e})=>s.a.createElement("div",null,"No route match for ",e.pathname);var N=C;l.a.render(s.a.createElement(N,null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.28f3dd3d.chunk.js.map