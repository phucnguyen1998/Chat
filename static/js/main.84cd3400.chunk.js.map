{"version":3,"sources":["firebase.js","components/Home/Chatbox.js","components/Home/Home.js","components/Auth/Login.js","components/Auth/Register.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","GoogleAuthProvider","Chatbox","React","Component","constructor","props","super","this","state","chats","componentDidMount","database","ref","on","snapshot","getChats","val","ascChats","chat","message","push","id","user","date","timestamp","reverse","setState","render","className","map","postDate","Date","key","getDate","getMonth","Home","handleChange","e","target","name","value","handleSubmit","preventDefault","chatRef","displayName","getTime","onSubmit","type","onChange","placeholder","to","Login","email","password","signInWithEmailAndPassword","then","history","catch","error","bind","htmlFor","placeholer","Register","username","createUserWithEmailAndPassword","currentUser","updateProfile","children","App","logOutUser","signOut","window","location","onAuthStateChanged","href","onClick","path","exact","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.84cd3400.chunk.js","sourcesContent":["import firebase from 'firebase';\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyC-AfzxS4Gf5fPulSY-HbwhC4b5LlPIi6w\",\n  authDomain: \"notereact-dfc04.firebaseapp.com\",\n  databaseURL: \"https://notereact-dfc04.firebaseio.com\",\n  projectId: \"notereact-dfc04\",\n  storageBucket: \"notereact-dfc04.appspot.com\",\n  messagingSenderId: \"790967777519\",\n  appId: \"1:790967777519:web:08bd8a668c627d28f6031a\",\n  measurementId: \"G-CFN9RT6H7F\"\n  };\n  // Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\nexport default firebase;","import React from 'react';\nimport firebase from './../../firebase';\n\nclass Chatbox extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tchats: []\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n\t\tconst chatRef = firebase.database().ref('general');\n\t\tchatRef.on('value', snapshot => {\n\t\t\tconst getChats = snapshot.val();\n\t\t\tlet ascChats = [];\n\t\t\tfor(let chat in getChats){\n\t\t\t\tif(getChats[chat].message !== ''){\n\t\t\t\t\tascChats.push({\n\t\t\t\t\t\tid: chat,\n\t\t\t\t\t\tmessage: getChats[chat].message,\n\t\t\t\t\t\tuser: getChats[chat].user,\n\t\t\t\t\t\tdate: getChats[chat].timestamp\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst chats = ascChats.reverse();\n\t\t\tthis.setState({chats});\n\t\t});\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"chatbox\">\n\t\t\t\t<ul className='chat-list'>\n\t\t\t\t\t{this.state.chats.map(chat => {\n\t\t\t\t\t\tconst postDate = new Date(chat.date);\n\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t<li key={chat.id}>\n\t\t\t\t\t\t\t\t<em>{postDate.getDate() + '/' + (postDate.getMonth()+1)}</em>\n\t\t\t\t\t\t\t\t<strong>{chat.user}:</strong> \n\t\t\t\t\t\t\t\t{chat.message}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Chatbox;","import React from 'react';\nimport firebase from './../../firebase';\nimport {Link} from 'react-router-dom';\n\nimport './Home.css';\n\nimport Chatbox from './Chatbox';\n\nclass Home extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tmessage: ''\n\t\t}\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState({[e.target.name]: e.target.value});\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\t\tif(this.state.message !== ''){\n\t\t\tconst chatRef = firebase.database().ref('general');\n\t\t\tconst chat = {\n\t\t\t\tmessage: this.state.message,\n\t\t\t\tuser: this.props.user.displayName,\n\t\t\t\ttimestamp: new Date().getTime()\n\t\t\t}\n\t\t\t\n\t\t\tchatRef.push(chat);\n\t\t\tthis.setState({message: ''});\n\t\t}\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<div className=\"home--container\">\n\t\t\t\t<h1>Hãy nhắn gì đó!</h1>\n\t\t\t\t{this.props.user && \n\t\t\t\t\t<div className=\"allow-chat\">\n\t\t\t\t\t\t<form className=\"send-chat\" onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"message\" id=\"message\" value={this.state.message} onChange={this.handleChange} placeholder='Nhập tin nhắn...' />\n\t\t\t\t\t\t</form>\n\n\t\t\t\t\t\t<Chatbox />\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{!this.props.user && \n\t\t\t\t\t<div className=\"disallow-chat\">\n\t\t\t\t\t\t<p><Link to=\"/login\">Đăng nhập</Link> hoặc <Link to=\"/register\">Đăng ký</Link> Để bắt đầu chat!</p>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Home;","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport firebase from './../../firebase';\n\nimport './Auth.css';\n\nclass Login extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\terror: null\n\t\t}\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState({[e.target.name]: e.target.value});\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\t\tconst {email, password} = this.state;\n\n\t\tfirebase\n\t\t\t.auth()\n\t\t\t.signInWithEmailAndPassword(email, password)\n\t\t\t.then(user => {\n\t\t\t\tthis.props.history.push('/Chat');\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({error});\n\t\t\t});\n\t}\n\n\trender(){\n\t\tconst {email, password, error} = this.state;\n\t\treturn(\n\t\t\t<div className=\"auth--container\">\n\t\t\t\t<h1>Login</h1>\n\t\t\t\t<p className=\"intro-text\">Đăng nhập để truy cập tài khoản của bạn\n</p>\n\t\t\t\t{error && <p className=\"error-message\">{error.message}</p>}\n\t\t\t\t<form className=\"login-form\" onSubmit={this.handleSubmit}>\n\t\t\t\t\t<label htmlFor=\"email\">Email</label>\n\t\t\t\t\t<input type=\"email\" name=\"email\" id=\"email\" placeholder=\"Email\" value={email} onChange={this.handleChange} />\n\t\t\t\t\t<label htmlFor=\"password\">Password</label>\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tplaceholer=\"password\"\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<button className=\"general-submit\">Log in</button>\n\t\t\t\t\t<p>Bạn chưa có tài khoản <Link className=\"login-btn\" to=\"/register\">Đăng ký</Link></p>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Login;","import React from 'react';\nimport firebase from './../../firebase'\nimport { Link } from 'react-router-dom';\n\nimport './Auth.css';\n\nclass Register extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tusername: '',\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\terror: null\n\t\t}\n\t}\n\n\thandleChange = e => {\n\t\tthis.setState({[e.target.name]: e.target.value});\n\t}\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\t\tconst {email, username, password} = this.state;\n\t\tfirebase\n\t\t\t.auth()\n\t\t\t.createUserWithEmailAndPassword(email, password)\n\t\t\t.then(() => {\n\t\t\t\tconst user = firebase.auth().currentUser;\n\t\t\t\tuser\n\t\t\t\t\t.updateProfile({displayName: username})\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.props.history.push('/Chat');\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tthis.setState({error});\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({error});\n\t\t\t});\n\t}\n\n\trender(){\n\t\tconst {email, username, password, error} = this.state;\n\t\treturn(\n\t\t\t<div className=\"auth--container\">\n\t\t\t\t<h1>Register your account</h1>\n\t\t\t\t{error && <p className=\"error-message\">{error.message}</p>}\n\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t<label htmlFor=\"username\">Username</label>\n\t\t\t\t\t<input type=\"text\" name=\"username\" id=\"username\" value={username} onChange={this.handleChange} />\n\t\t\t\t\t<label htmlFor=\"email\">Email</label>\n\t\t\t\t\t<input type=\"text\" name=\"email\" id=\"email\" value={email} onChange={this.handleChange} />\n\t\t\t\t\t<label htmlFor=\"password\">Nhập mật khẩu</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<button className=\"general-submit\" children=\"Get Started\" />\n\t\t\t\t\t<p>Bạn đã có tài khoản? <Link className=\"login-btn\" to=\"/login\">Đăng nhập</Link></p>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Register;","import React from 'react';\nimport { BrowserRouter as Router, Route, Link, Switch } from 'react-router-dom';\nimport firebase, {auth} from './firebase.js'\n\nimport './index.css';\n\nimport Home from './components/Home/Home';\nimport Login from './components/Auth/Login';\nimport Register from './components/Auth/Register';\n\nclass App extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {user: null}\n\t\tthis.logOutUser = this.logOutUser.bind(this);\n\t}\n\tcomponentDidMount(){\n\t\tauth.onAuthStateChanged(user => {\n\t\t\tif(user){\n\t\t\t\tthis.setState({\n\t\t\t\t\tuser\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tlogOutUser = () => {\n\t\tfirebase.auth().signOut()\n\t\t\t.then(window.location = \"/Chat\");\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<Router>\n\t\t\t\t<div className=\"app\">\n\t\t\t\t\t<nav className=\"main-nav\">\n\t\t\t\t\t\t{!this.state.user && \n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Link to=\"/login\">Đăng Nhập</Link>\n\t\t\t\t\t\t\t\t<Link to=\"/register\">Đăng ký</Link>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t{this.state.user && \n\t\t\t\t\t\t\t<a href=\"/Chat\" onClick={this.logOutUser}>Đăng xuất</a>\n\t\t\t\t\t\t}\n\t\t\t\t\t</nav>\n\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/Chat\" exact render={() => <Home user={this.state.user}/>} />\n\t\t\t\t\t\t<Route path=\"/login\" exact component={Login} />\n\t\t\t\t\t\t<Route path=\"/register\" exact component={Register} />\n\t\t\t\t\t\t{/* <Route component={NoMatch} /> */}\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\n// const NoMatch = ({location}) => <div>No route match for {location.pathname}</div>;\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n\t<App/>, \n\tdocument.getElementById('root')\n);"],"sourceRoot":""}